# Text and Image for PHP

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![PHP Version](https://img.shields.io/badge/php-%3E%3D7.2-8892BF.svg)](https://www.php.net/)

## üöÄ –ü—Ä–∏–º–µ—Ä
![alt text](examples/2_Advanced_1.jpg "Example image")

**Text and Image** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –∏ —É–¥–æ–±–Ω–∞—è PHP-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ç–µ–∫—Å—Ç–æ–º. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —Ü–≤–µ—Ç–Ω–æ–π —Ñ–æ–Ω –∏–ª–∏ –Ω–∞ —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —à—Ä–∏—Ñ—Ç—ã TrueType (.ttf), —Ä–∞–∑–º–µ—Ä—ã, —Ü–≤–µ—Ç–∞, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π API.
-   **–†–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–≤ –∏ —Å—Ç—Ä–æ–∫.
-   **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —à—Ä–∏—Ñ—Ç–æ–≤ GD –∏ –ª—é–±—ã—Ö `.ttf` —Ñ–∞–π–ª–æ–≤.
-   **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–º, —Ü–≤–µ—Ç–æ–º (HEX/RGBA), —É–≥–ª–æ–º –Ω–∞–∫–ª–æ–Ω–∞ —Ç–µ–∫—Å—Ç–∞.
-   **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ**: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (–ª–µ–≤–æ, —Ü–µ–Ω—Ç—Ä, –ø—Ä–∞–≤–æ) –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ (–≤–µ—Ä—Ö, —Ü–µ–Ω—Ç—Ä, –Ω–∏–∑) –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞.
-   **–§–æ–Ω**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–ª–æ—à–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –∏–ª–∏ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
-   **–¶–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤ (Method Chaining)**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.
-   **–≠—Ñ—Ñ–µ–∫—Ç—ã**: –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –æ—Ç—Ç–µ–Ω–∫–∏ —Å–µ—Ä–æ–≥–æ –∏–ª–∏ —è—Ä–∫–æ—Å—Ç—å.
-   **–†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `PNG`, `JPG`, `GIF` –∏–ª–∏ –≤—ã–≤–æ–¥ –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Äî —á–µ—Ä–µ–∑ [Composer](https://getcomposer.org/).

```bash
composer require igoradmtg/text_and_image
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ –≤–∫–ª—é—á–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è PHP `ext-gd` –∏ `ext-mbstring`.

## ‚ñ∂Ô∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–í–æ—Ç –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –≤ —Ñ–∞–π–ª.

```php
<?php
// –ü–æ–¥–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑—á–∏–∫ Composer
require 'vendor/autoload.php';

// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å
use Igoramdtg\TextAndImage\TextImage;

// –¢–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º –Ω–∞–Ω–µ—Å—Ç–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
$text = "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä! –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ TextAndImage. " .
        "–û–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ–±—ã –æ–Ω–∏ —É–º–µ—Å—Ç–∏–ª–∏—Å—å –≤ –∑–∞–¥–∞–Ω–Ω—É—é —à–∏—Ä–∏–Ω—É.";

try {
    // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞
    $image = new TextImage($text);

    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –º–µ—Ç–æ–¥–æ–≤)
    $image->setFont(__DIR__ . '/assets/Vetrino.ttf') // –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É .ttf —Ñ–∞–π–ª—É
          ->setFontSize(24)
          ->setBackgroundColor('#34495e')
          ->setTextColor('#ffffff')
          ->setAlignment(TextImage::ALIGN_CENTER, TextImage::VALIGN_MIDDLE);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    $image->save(__DIR__ . '/output/hello_world.png');

    echo "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ: hello_world.png";

} catch (Exception $e) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    echo '–û—à–∏–±–∫–∞: ' . $e->getMessage();
}

```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
![–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](https://i.imgur.com/k6lP09B.png)

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ–æ–Ω–∞.

```php
<?php
require 'vendor/autoload.php';
use Igoramdtg\TextAndImage\TextImage;

$text = "–¢–µ–∫—Å—Ç –ø–æ–≤–µ—Ä—Ö –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ñ–æ–Ω–∞";

$image = new TextImage($text);
$image->background_image = __DIR__ . '/assets/background.jpg'; // –ü—É—Ç—å –∫ —Ñ–æ–Ω—É
$image->text_color = '#FFFFFF';
$image->text_size = 40;
$image->padding = 50;
$image->align = TextImage::ALIGN_RIGHT;
$image->valign = TextImage::VALIGN_BOTTOM;

// –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞
$image->applyBrightness(-50); 

$image->save(__DIR__ . '/output/background_example.jpg', 'jpg');

echo "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ñ–æ–Ω–æ–º —Å–æ–∑–¥–∞–Ω–æ!";
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

–¶–≤–µ—Ç–∞ –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –∫–∞–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HEX (`#RRGGBB` –∏–ª–∏ `#RRGGBBAA` –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏), —Ç–∞–∫ –∏ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ RGBA.

```php
<?php
require 'vendor/autoload.php';
use Igoramdtg\TextAndImage\TextImage;

$image = new TextImage("–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ!");

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ —Å–∏–Ω–µ–≥–æ —Ñ–æ–Ω–∞
$image->background_color = '#2980b9AA'; // HEX —Å –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–æ–º

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤ RGBA
// –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (0-127) - —ç—Ç–æ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª –≤ GD (0=–Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π)
$image->text_color = [255, 255, 255, 0]; 

$image->setAlignment(TextImage::ALIGN_CENTER, TextImage::VALIGN_MIDDLE);
$image->save(__DIR__ . '/output/transparency_example.png');

echo "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω–æ!";
```

## ‚öôÔ∏è –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API (–æ—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞)

–í—Å–µ —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞ —è–≤–ª—è—é—Ç—Å—è `public` –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞–ø—Ä—è–º—É—é.

- `width` (int): –®–∏—Ä–∏–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∏–∫—Å–µ–ª—è—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `720`.
- `font` (string): –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —à—Ä–∏—Ñ—Ç–∞ `.ttf`.
- `text_size` (int): –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `17`.
- `padding` (int): –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `30`.
- `line_height` (int|string): –í—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `'auto'`.
- `background_color` (string|array): –¶–≤–µ—Ç —Ñ–æ–Ω–∞.
- `text_color` (string|array): –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞.
- `background_image` (string): –ü—É—Ç—å –∫ —Ñ–æ–Ω–æ–≤–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.
- `align` (string): –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ (`left`, `center`, `right`).
- `valign` (string): –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ (`top`, `middle`, `bottom`).
- `angle` (int): –£–≥–æ–ª –Ω–∞–∫–ª–æ–Ω–∞ —Ç–µ–∫—Å—Ç–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

- `__construct(string $text)`: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.
- `setText(string $text)`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç.
- `setTextColor(string|array $color)`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞.
- `setBackgroundColor(string|array $color)`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç —Ñ–æ–Ω–∞.
- `setFont(string $path)`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —à—Ä–∏—Ñ—Ç.
- `setFontSize(int $size)`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞.
- `setAlignment(string $align, string $valign)`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ.
- `applyGrayscale()`: –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä "–æ—Ç—Ç–µ–Ω–∫–∏ —Å–µ—Ä–æ–≥–æ".
- `applyBrightness(int $level)`: –ò–∑–º–µ–Ω—è–µ—Ç —è—Ä–∫–æ—Å—Ç—å (`-255` –¥–æ `255`).
- `save(string $path, string $type = 'png', int $quality = 90)`: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª.
- `output(string $type = 'png', int $quality = 90)`: –í—ã–≤–æ–¥–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä.

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ `LICENSE`.
